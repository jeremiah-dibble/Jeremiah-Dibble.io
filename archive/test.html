<!DOCTYPE html>
<html>
<body>

<!-- <h2>JavaScript Geolocation</h2>

<p>Click the button to get your coordinates.</p>

<button onclick="getLocation()">Try It</button>

<p id="demo"></p>

<script>
const x = document.getElementById("demo");

function getLocation() {
  try {
    navigator.geolocation.getCurrentPosition(showPosition);
  } catch {
    x.innerHTML = err;
  }
}

function showPosition(position) {
  x.innerHTML = "Latitude: " + position.coords.latitude + 
  "<br>Longitude: " + position.coords.longitude;
}
</script> -->
<p>Click the button to get your coordinates.</p>
<input id="field" type="text" value="enter quality" size="20">
<div id="results">
    Results</div>

<button onclick="query()">Try It</button>

<p id="demo"></p>

<script>
import fetch from "node-fetch";
const demo = document.getElementById("demo");
var resultsObj, fieldObj;
    resultsObj = document.getElementById("results");
    fieldObj = document.getElementById('field');

// function getLocation() {
// try {
// 	navigator.geolocation.getCurrentPosition(showPosition);
// } catch {
// 	x.innerHTML = err;
// }
// }

// function showPosition(position) {
// x.innerHTML = "Latitude: " + position.coords.latitude + 
// "<br>Longitude: " + position.coords.longitude;
// }
function query() {
    const response = await fetch(
        "https://api-inference.huggingface.co/models/gpt2",
        {
            headers: { Authorization: `Bearer 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` },
            method: "POST",
            body: JSON.stringify(fieldObj),
        }
    );
    const result = await response.json();
    // const string = JSON.stringify(result.response)
    demo.innerHTML = JSON.stringify(result.response)+'asdfasdf'

    // return result;
}

    // fieldObj.addEventListener('blur', query({inputs: fieldObj.value})())
// query({inputs: fieldObj.value}).then((response) => {
// 	console.log(JSON.stringify(response));
// });
</script>
</body>
</html>
